<%#= render 'articles_partial', articles: @articles %>

<h1>Articles</h1>

<%= form_tag articles_path, method: :get do %>
  <p>
    <%= text_field_tag :query, params[:query] %>
    <%= submit_tag "Search", name: nil %>
  </p>
<% end %>

<div id="articles">
<% @articles.each do |article| %>
  <hr>
  <h4><%= link_to article.title, article %></h4>
  <div class="categories"><p>About <b><%= article.categories.map(&:name).map(&:inspect).join(', ') %></b>, by <em><%= article.user.username %></em> on <em><%= article.updated_at.strftime('%b %d, %Y') %></em></p></div>
  <div class="summary"><p><%= article.summary.truncate(365) %></p></div>
  <div class="tags">Tags: <%= raw(article.tag_list.map { |t| link_to t, tag_path(t) }.join(', ')) %></div>
<% end %>
</div>
